#{extends 'site.html' /} #{set title:'New question' /}

<h3>New Question</h3>

#{if question == null }
	<h4>Step 1/2 : Description</h4>
	#{form @Questions.storeQuestion()} 
		#{ifErrors}
		<p class="error">All fields are required!</p>
		#{/ifErrors}
		
		<p style="display: block; clear: both;">
			<label for="title">Title: </label> <input type="text" name="title"
				id="question_title" value="" />
		</p>
		<p style="display: block; clear: both;">
		   <label style="float: left;">Min difficulty: </label>
		   <input type="radio" name="difficulty" class="star" value="1"/>
		   <input type="radio" name="difficulty" class="star" value="2"/>
		   <input type="radio" name="difficulty" class="star" value="3"/>
		   <input type="radio" name="difficulty" class="star" value="4"/>
		   <input type="radio" name="difficulty" class="star" value="5"/>
		</p>
		<p style="display: block; clear: both;">
			<label for="second">Time: </label> <input type="text" name="second"
				id="second" value="" />(seconds)
		</p>
		<p style="display: block; clear: both;">
			<label for="groupType">Type: </label> #{select 'groupType',
			items:models.GroupType.findAll(), valueProperty:'id',
			labelProperty:'name', id:'group_types' /}
		</p>
		<p style="display: block; clear: both;">
			<label for="content">Content: </label>
			<textarea name="content" cols="80" rows="10"></textarea>
		</p>
		<p style="display: block; clear: both;">
			<label for="explanation">Explanation: </label>
			<textarea name="explanation" cols="80" rows="10"></textarea>
		</p>
		<p style="display: block; clear: both;">
			<label for="questionType">Response: </label>
			<input type="radio" name="questionType" value="${models.Question.QuestionType.SIMPLE_CHOICE }" checked="checked" />Simple choice 
		   <input type="radio" name="questionType" value="${models.Question.QuestionType.MULTIPLE_CHOICE }" />Multiple choice
		   <input type="radio" name="questionType" value="${models.Question.QuestionType.TEXT_ANSWER }" />Full text
		</p>
		
		<div id="response_bloc">
			<table>
				<thead>
					<tr>
						<th>Correct</th>
						<th>Responses</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td><input type="radio" name="correct" value="1" />
						</td>
						<td><input type="text" name="response1" value="" />
						</td>
					</tr>
					<tr>
						<td><input type="radio" name="correct" value="2" />
						</td>
						<td><input type="text" name="response2" value="" />
						</td>
					</tr>
					<tr>
						<td><input type="radio" name="correct" value="3" />
						</td>
						<td><input type="text" name="response3" value="" />
						</td>
					</tr>
					<tr>
						<td><input type="radio" name="correct" value="4" />
						</td>
						<td><input type="text" name="response4" value="" />
						</td>
					</tr>
					<tr>
						<td><input type="radio" name="correct" value="5" />
						</td>
						<td><input type="text" name="response5" value="" />
						</td>
					</tr>
				</tbody>
			</table>
		
		</div>
		
		<p>
			<input type="submit" value="Next step" />
		</p>
	
	#{/form}
#{/if} 
#{elseif question != null && question.responses }
   <p>Congratulation</p>
#{/elseif} 
#{else}
   <h4>Step 2/2 : Responses</h4>
#{/else}








